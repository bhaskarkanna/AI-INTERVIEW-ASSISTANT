{"version":3,"file":"redux-persist_integration_react.js","names":["_typeof","obj","_getPrototypeOf","o","_setPrototypeOf","p","PersistGate","PureComponent"],"sources":["../../redux-persist/es/integration/react.js"],"sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react'; // eslint-disable-line import/no-unresolved\n\nexport var PersistGate =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(PersistGate, _PureComponent);\n\n  function PersistGate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PersistGate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PersistGate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      bootstrapped: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unsubscribe\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePersistorState\", function () {\n      var persistor = _this.props.persistor;\n\n      var _persistor$getState = persistor.getState(),\n          bootstrapped = _persistor$getState.bootstrapped;\n\n      if (bootstrapped) {\n        if (_this.props.onBeforeLift) {\n          Promise.resolve(_this.props.onBeforeLift()).finally(function () {\n            return _this.setState({\n              bootstrapped: true\n            });\n          });\n        } else {\n          _this.setState({\n            bootstrapped: true\n          });\n        }\n\n        _this._unsubscribe && _this._unsubscribe();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(PersistGate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._unsubscribe = this.props.persistor.subscribe(this.handlePersistorState);\n      this.handlePersistorState();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._unsubscribe && this._unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof this.props.children === 'function' && this.props.loading) console.error('redux-persist: PersistGate expects either a function child or loading prop, but not both. The loading prop will be ignored.');\n      }\n\n      if (typeof this.props.children === 'function') {\n        return this.props.children(this.state.bootstrapped);\n      }\n\n      return this.state.bootstrapped ? this.props.children : this.props.loading;\n    }\n  }]);\n\n  return PersistGate;\n}(PureComponent);\n\n_defineProperty(PersistGate, \"defaultProps\", {\n  children: null,\n  loading: null\n});"],"mappings":";;;;;AAAA,SAAS,QAAQ,KAAK;AAAE,KAAI,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,SAAY,WAAU,SAASA,UAAQ,OAAK;AAAE,SAAO,OAAOC;;KAAiB,WAAU,SAASD,UAAQ,OAAK;AAAE,SAAOC,SAAO,OAAO,WAAW,cAAcA,MAAI,gBAAgB,UAAUA,UAAQ,OAAO,YAAY,WAAW,OAAOA;;AAAU,QAAO,QAAQ,IAAI;;AAE5V,SAAS,gBAAgB,UAAU,aAAa;AAAE,KAAI,EAAE,oBAAoB,aAAgB,OAAM,IAAI,UAAU,oCAAoC;;AAEpJ,SAAS,kBAAkB,QAAQ,OAAO;AAAE,MAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;EAAE,IAAI,aAAa,MAAM;AAAI,aAAW,aAAa,WAAW,cAAc;AAAO,aAAW,eAAe;AAAM,MAAI,WAAW,WAAY,YAAW,WAAW;AAAM,SAAO,eAAe,QAAQ,WAAW,KAAK,WAAW;;;AAExT,SAAS,aAAa,aAAa,YAAY,aAAa;AAAE,KAAI,WAAY,mBAAkB,YAAY,WAAW,WAAW;AAAE,KAAI,YAAa,mBAAkB,aAAa,YAAY;AAAE,QAAO;;AAEzM,SAAS,2BAA2B,MAAM,MAAM;AAAE,KAAI,SAAS,QAAQ,KAAK,KAAK,YAAY,OAAO,SAAS,YAAe,QAAO;AAAQ,QAAO,uBAAuB,KAAK;;AAE9K,SAAS,gBAAgB,GAAG;AAAE,mBAAkB,OAAO,iBAAiB,OAAO,iBAAiB,SAASC,kBAAgB,KAAG;AAAE,SAAOC,IAAE,aAAa,OAAO,eAAeA,IAAE;;AAAK,QAAO,gBAAgB,EAAE;;AAE1M,SAAS,uBAAuB,MAAM;AAAE,KAAI,SAAS,KAAK,EAAK,OAAM,IAAI,eAAe,4DAA4D;AAAI,QAAO;;AAE/J,SAAS,UAAU,UAAU,YAAY;AAAE,KAAI,OAAO,eAAe,cAAc,eAAe,KAAQ,OAAM,IAAI,UAAU,qDAAqD;AAAI,UAAS,YAAY,OAAO,OAAO,cAAc,WAAW,WAAW,EAAE,aAAa;EAAE,OAAO;EAAU,UAAU;EAAM,cAAc;EAAM,EAAE,CAAC;AAAE,KAAI,WAAY,iBAAgB,UAAU,WAAW;;AAE9X,SAAS,gBAAgB,GAAG,GAAG;AAAE,mBAAkB,OAAO,kBAAkB,SAASC,kBAAgB,KAAG,KAAG;AAAE,MAAE,YAAYC;AAAG,SAAOF;;AAAM,QAAO,gBAAgB,GAAG,EAAE;;AAEvK,SAAS,gBAAgB,KAAK,KAAK,OAAO;AAAE,KAAI,OAAO,IAAO,QAAO,eAAe,KAAK,KAAK;EAAS;EAAO,YAAY;EAAM,cAAc;EAAM,UAAU;EAAM,CAAC;KAAW,KAAI,OAAO;AAAS,QAAO;;AAI3M,IAAW,cAEX,yBAAU,gBAAgB;AACxB,WAAUG,eAAa,eAAe;CAEtC,SAASA,gBAAc;EACrB,IAAI;EAEJ,IAAI;AAEJ,kBAAgB,MAAMA,cAAY;AAElC,OAAK,IAAI,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,KAAK,EAAE,OAAO,GAAG,OAAO,MAAM,OAC/E,MAAK,QAAQ,UAAU;AAGzB,UAAQ,2BAA2B,OAAO,mBAAmB,gBAAgBA,cAAY,EAAE,KAAK,MAAM,kBAAkB,CAAC,KAAK,CAAC,OAAO,KAAK,CAAC,CAAC;AAE7I,kBAAgB,uBAAuB,MAAM,EAAE,SAAS,EACtD,cAAc,OACf,CAAC;AAEF,kBAAgB,uBAAuB,MAAM,EAAE,gBAAgB,KAAK,EAAE;AAEtE,kBAAgB,uBAAuB,MAAM,EAAE,wBAAwB,WAAY;AAMjF,OALgB,MAAM,MAAM,UAEQ,UAAU,CACP,cAErB;AAChB,QAAI,MAAM,MAAM,aACd,SAAQ,QAAQ,MAAM,MAAM,cAAc,CAAC,CAAC,QAAQ,WAAY;AAC9D,YAAO,MAAM,SAAS,EACpB,cAAc,MACf,CAAC;MACF;QAEF,OAAM,SAAS,EACb,cAAc,MACf,CAAC;AAGJ,UAAM,gBAAgB,MAAM,cAAc;;IAE5C;AAEF,SAAO;;AAGT,cAAaA,eAAa;EAAC;GACzB,KAAK;GACL,OAAO,SAAS,oBAAoB;AAClC,SAAK,eAAe,KAAK,MAAM,UAAU,UAAU,KAAK,qBAAqB;AAC7E,SAAK,sBAAsB;;GAE9B;EAAE;GACD,KAAK;GACL,OAAO,SAAS,uBAAuB;AACrC,SAAK,gBAAgB,KAAK,cAAc;;GAE3C;EAAE;GACD,KAAK;GACL,OAAO,SAAS,SAAS;AAErB,QAAI,OAAO,KAAK,MAAM,aAAa,cAAc,KAAK,MAAM,QAAS,SAAQ,MAAM,8HAA8H;AAGnN,QAAI,OAAO,KAAK,MAAM,aAAa,WACjC,QAAO,KAAK,MAAM,SAAS,KAAK,MAAM,aAAa;AAGrD,WAAO,KAAK,MAAM,eAAe,KAAK,MAAM,WAAW,KAAK,MAAM;;GAErE;EAAC,CAAC;AAEH,QAAOA;EACPC,2BAAc;AAEhB,gBAAgB,aAAa,gBAAgB;CAC3C,UAAU;CACV,SAAS;CACV,CAAC"}